<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="app">
<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script type="text/javascript" src="test.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.4.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <script>
        var app = angular.module("app", []);
        app.controller('mycontroller', function ($scope, $http) {
            $scope.myname = "avi semah";
            // Hidden our previous section's content
            // construct our http request
            $http({
                method: 'GET',
                url: "http://localhost:39402/api/product?" + 'callback=JSON_CALLBACK'
            }).success(function (data, status) {
                $scope.products = data;
                var i;
                for (i = 0; i < data.length; ++i) {
                    console.log(data[i]);                    // Do something with `substr[i]`
                }
                // Now we have a list of the stories (data.list.story)
                // in the data object that the NPR API 
                // returns in JSON that looks like:
                // data: { "list": {
                //   "title": ...
                //   "story": [
                //     { "id": ...
                //       "title": ...
            }).error(function (data, status) {
                // Some error occurred
            });
        });


    </script>
</head>
<body ng-controller="mycontroller">

    <script type="text/javascript">
        //alert ("sum of 3 and 4 is " +calc(3,4));

        function myFunction() {
            alert("sum of 3 and 4 is " + calc(3, 4));
        }



        function loadXMLDoc() {
            myFunction();
            var xmlhttp;
            if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            }
            else {// code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    var a = xmlhttp.response;
                    var replaceToUpper;
                    var jsonText = JSON.stringify(a);
                    var errors = $.parseJSON(a);
                    var elem = document.getElementById("mydiv");
                    elem.innerHTML = xmlhttp.response;
                }
            }
            xmlhttp.open("GET", "http://localhost:39402/api/product/", true);
            xmlhttp.send();
        }
    </script>
    <!--<div>Hello wORLD</div>
    <input id="Button1" type="button" value="MYBUTON" onclick="loadXMLDoc()" />


    <div id="mydiv"> number of itens is {{products.length}} </div>-->


    <table class="table table-striped">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Unit Price</th>
                <th>Quantity Per Unit</th>

            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in products">
                <td>{{item.ProductName}}</td>
                <td>{{item.UnitPrice}}</td>
                <td>{{item.QuantityPerUnit}}</td>
            </tr>
        </tbody>
    </table>
</body>
</html>